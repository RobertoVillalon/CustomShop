import{A as o,B as r,C as m,D as L,E as q,F as fe,G as ve,H as be,I as xe,J as O,K as z,L as i,M as x,N as C,O as ye,P as Ce,Q as J,R as A,S as K,T as Pe,V as Q,W as he,X as Se,Y as Ie,Z as E,_ as Ee,a as ae,aa as we,b as se,c as re,d as T,da as k,e as $,ea as ke,f as j,fa as D,g as B,ga as De,h as u,i as ce,j as pe,k as de,l as ue,m as ie,o as H,p as G,q as s,r as p,s as me,t as le,u as ge,v as V,w as I,x as g,y as f,z as l}from"./chunk-DUHY4GIR.js";var W=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["front-navbar"]],decls:34,vars:0,consts:[[1,"navbar","bg-base-100","shadow-sm"],[1,"navbar-start"],[1,"dropdown"],["tabindex","0","onkeypress","() => {}",1,"btn","btn-ghost","lg:hidden"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h8m-8 6h16"],[1,"menu","menu-sm","dropdown-content","bg-base-100","rounded-box","z-1","mt-3","w-52","p-2","shadow"],["routerLink","/gender/men","routerLinkActive","text-secondary",1,"btn","btn-ghost"],["routerLink","/gender/women","routerLinkActive","text-secondary",1,"btn","btn-ghost"],["routerLink","/gender/kid","routerLinkActive","text-secondary",1,"btn","btn-ghost"],["routerLink","/",1,"btn","btn-ghost","text-xl","font-display"],[1,"text-secondary"],[1,"navbar-center","hidden","lg:flex"],[1,"menu","menu-horizontal","px-1"],[1,"navbar-end"],[1,"btn"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),de(),o(4,"svg",4),m(5,"path",5),r()(),ue(),o(6,"ul",6)(7,"li")(8,"a",7),i(9,"Hombres"),r()(),o(10,"li")(11,"a",8),i(12,"Mujeres"),r()(),o(13,"li")(14,"a",9),i(15,"Ni\xF1os"),r()()()(),o(16,"a",10),i(17," Custom "),o(18,"span",11),i(19,"| Shop"),r()()(),o(20,"div",12)(21,"ul",13)(22,"li")(23,"a",7),i(24,"Hombres"),r()(),o(25,"li")(26,"a",8),i(27,"Mujeres"),r()(),o(28,"li")(29,"a",9),i(30,"Ni\xF1os"),r()()()(),o(31,"div",14)(32,"a",15),i(33,"Button"),r()()())},dependencies:[D,De],encapsulation:2})};var X=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-store-front-layout"]],decls:3,vars:0,consts:[[1,"container","mx-auto"]],template:function(e,a){e&1&&(m(0,"front-navbar"),o(1,"section",0),m(2,"router-outlet"),r())},dependencies:[ke,W],encapsulation:2})};var U={baseUrl:"http://localhost:3000/api",imageUrl:"http://localhost:3000/api/files/product",staticImagesPath:"/static/images"};var _e=U.imageUrl+"/",Me=U.staticImagesPath+"/no-image.jpg",_=class n{transform(t){return typeof t=="string"?_e+t:Array.isArray(t)?_e+t[0]:Me}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=me({name:"productImage",type:n,pure:!0})};var Fe=n=>["/product",n],R=class n{product=E.required();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["product-card"]],inputs:{product:[1,"product"]},decls:13,vars:13,consts:[[1,"card","bg-base-100","shadow-sm","p-2","animate-fadeIn"],[3,"src","alt"],[1,"card-body"],[1,"card-title","font-display","text-accent","text-xl"],[1,"card-actions","justify-end"],[1,"btn","btn-primary",3,"routerLink"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"figure"),m(2,"img",1),A(3,"productImage"),r(),o(4,"div",2)(5,"h2",3),i(6),r(),o(7,"p"),i(8),A(9,"slice"),r(),o(10,"div",4)(11,"a",5),i(12,"Buy Now"),r()()()()),e&2&&(s(2),l("src",K(3,5,a.product().images),G)("alt",a.product().title),s(4),x(a.product().title),s(2),x(Pe(9,7,a.product().description,0,70)),s(3),l("routerLink",J(11,Fe,a.product().id)))},dependencies:[D,Ee,_],encapsulation:2})};var Re=U.baseUrl,h=class n{http=u(we);productsCache=new Map;productCache=new Map;getProducts(t){let{limit:e=9,offset:a=0,gender:d=""}=t,c=`${e}-${a}-${d}`;return this.productsCache.has(c)?re(this.productsCache.get(c)):this.http.get(`${Re}/products`,{params:{limit:e,offset:a,gender:d}}).pipe($(y=>console.log(y)),$(y=>this.productsCache.set(c,y)))}getProduct(t){return this.productCache.has(t)?re(this.productCache.get(t)):this.http.get(`${Re}/products/${t}`).pipe($(e=>this.productCache.set(t,e)))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function Y(n,t){let a=!t?.manualCleanup?t?.injector?.get(ie)??u(ie):null,d=Ne(t?.equal),c;t?.requireSync?c=H({kind:0},{equal:d}):c=H({kind:1,value:t?.initialValue},{equal:d});let y,w=n.subscribe({next:b=>c.set({kind:1,value:b}),error:b=>{c.set({kind:2,error:b}),y?.()},complete:()=>{y?.()}});if(t?.requireSync&&c().kind===0)throw new j(601,!1);return y=a?.onDestroy(w.unsubscribe.bind(w)),Q(()=>{let b=c();switch(b.kind){case 1:return b.value;case 2:throw b.error;case 0:throw new j(601,!1)}},{equal:t?.equal})}function Ne(n=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&n(t.value,e.value)}function M(n){return Se(se(ae({},n),{loader:void 0,stream:t=>{let e,a=()=>e.unsubscribe();t.abortSignal.addEventListener("abort",a);let d=H({value:void 0}),c,y=new Promise(S=>c=S);function w(S){d.set(S),c?.(d),c=void 0}let b=n.stream??n.loader;if(b===void 0)throw new j(990,!1);return e=b(t).subscribe({next:S=>w({value:S}),error:S=>{w({error:Ie(S)}),t.abortSignal.removeEventListener("abort",a)},complete:()=>{c&&w({error:new j(991,!1)}),t.abortSignal.removeEventListener("abort",a)}}),y}}))}var Te=()=>[],je=n=>({page:n});function Le(n,t){if(n&1){let e=ve();o(0,"button",2),xe("click",function(){let d=ce(e).$implicit,c=O();return pe(c.activePage.set(d))}),i(1),r()}if(n&2){let e=t.$implicit,a=O();z("btn-primary",e===a.activePage()),l("routerLink",Ce(5,Te))("queryParams",J(6,je,e)),s(),C(" ",e," ")}}function qe(n,t){n&1&&(o(0,"p"),i(1,"No hay paginas"),r())}var F=class n{pages=E(0);currentPage=E(1);activePage=he(this.currentPage);getPagesList=Q(()=>Array.from({length:this.pages()},(t,e)=>e+1));static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-pagination"]],inputs:{pages:[1,"pages"],currentPage:[1,"currentPage"]},decls:4,vars:1,consts:[[1,"join","flex","justify-center","items-center","mt-4","mb-10"],[1,"join-item","btn",3,"btn-primary","routerLink","queryParams"],[1,"join-item","btn",3,"click","routerLink","queryParams"]],template:function(e,a){e&1&&(o(0,"div",0),g(1,Le,2,8,"button",1,I,!1,qe,2,0,"p"),r()),e&2&&(s(),f(a.getPagesList()))},dependencies:[D],encapsulation:2})};var N=class n{activatedRoute=u(k);currentPage=Y(this.activatedRoute.queryParamMap.pipe(T(t=>t.get("page")?+t.get("page"):1),T(t=>isNaN(t)?1:t)),{initialValue:1});static \u0275fac=function(e){return new(e||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function Oe(n,t){if(n&1&&m(0,"product-card",3),n&2){let e=t.$implicit;l("product",e)}}var Z=class n{productService=u(h);paginationService=u(N);productsResource=M({params:()=>({page:this.paginationService.currentPage()-1}),stream:({params:t})=>this.productService.getProducts({offset:+t.page*9})});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-home-page"]],decls:8,vars:3,consts:[[1,"text-3xl","font-bold","font-display"],[1,"text-xl","mb-5"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","mt-2","gap-3"],[3,"product"],[3,"pages","currentPage"]],template:function(e,a){if(e&1&&(o(0,"h1",0),i(1),r(),o(2,"h2",1),i(3,"Para todos los gustos"),r(),o(4,"div",2),g(5,Oe,1,1,"product-card",3,V),r(),m(7,"app-pagination",4)),e&2){let d,c;s(),C("Todos los productos ",a.paginationService.currentPage()),s(4),f((d=a.productsResource.value())==null?null:d.products),s(2),l("pages",((c=a.productsResource.value())==null?null:c.pages)??0)("currentPage",a.paginationService.currentPage())}},dependencies:[R,F],encapsulation:2})};function Ae(n,t){if(n&1&&m(0,"product-card",4),n&2){let e=t.$implicit;l("product",e)}}var ee=class n{route=u(k);gender=Y(this.route.params.pipe(T(({gender:t})=>t)));productService=u(h);paginationService=u(N);productsResource=M({params:()=>({gender:this.gender(),page:this.paginationService.currentPage()-1}),stream:({params:t})=>this.productService.getProducts({gender:t.gender,offset:+t.page*9})});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-gender-page"]],decls:10,vars:3,consts:[[1,"text-3xl","font-bold","font-display"],[1,"text-secondary"],[1,"text-xl","mb-5"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","mt-2","gap-3"],[3,"product"],[3,"pages","currentPage"]],template:function(e,a){if(e&1&&(o(0,"h1",0),i(1,"Todos los productos de "),o(2,"span",1),i(3),r()(),o(4,"h2",2),i(5,"Para todos los gustos"),r(),o(6,"div",3),g(7,Ae,1,1,"product-card",4,V),r(),m(9,"app-pagination",5)),e&2){let d,c;s(3),x(a.gender()),s(4),f((d=a.productsResource.value())==null?null:d.products),s(2),l("pages",((c=a.productsResource.value())==null?null:c.pages)??0)("currentPage",a.paginationService.currentPage())}},dependencies:[R,F],encapsulation:2})};function Ue(n,t){if(n&1&&(L(0,"div",1),fe(1,"img",2),A(2,"productImage"),q()),n&2){let e=t.$implicit;s(),be("src",K(2,1,e),G)}}var te=class n{productImages=E.required();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["product-carousel"]],inputs:{productImages:[1,"productImages"]},decls:3,vars:0,consts:[[1,"carousel","carousel-center","rounded-box","w-128","h-128"],[1,"carousel-item","w-full"],["alt","Product",1,"",3,"src"]],template:function(e,a){e&1&&(L(0,"div",0),g(1,Ue,3,3,"div",1,I),q()),e&2&&(s(),f(a.productImages()))},dependencies:[_],encapsulation:2})};function $e(n,t){if(n&1&&(o(0,"div",14),i(1),r()),n&2){let e=t.$implicit;s(),x(e)}}function Be(n,t){if(n&1&&(o(0,"div",15),i(1),r()),n&2){let e=t.$implicit;s(),x(e)}}function He(n,t){if(n&1&&(o(0,"div",1)(1,"div",2),m(2,"product-carousel",3),o(3,"div")(4,"h1",4),i(5),r(),o(6,"p",5),i(7),r(),o(8,"div",6)(9,"div",7)(10,"div",8),i(11,"Precio"),r(),o(12,"div",9),i(13),r()(),o(14,"div",7)(15,"div",8),i(16,"Stock"),r(),o(17,"div",10),i(18),r()()(),o(19,"div",11)(20,"h3",12),i(21,"Tallas disponibles:"),r(),o(22,"div",13),g(23,$e,2,1,"div",14,I),r()(),o(25,"div",11)(26,"h3",12),i(27,"Categor\xEDas:"),r(),o(28,"div",13),g(29,Be,2,1,"div",15,I),r()(),m(31,"div",16),o(32,"div",5)(33,"h3",12),i(34,"Publicado por:"),r(),o(35,"p"),i(36),r(),o(37,"p",17),i(38),r()(),o(39,"button",18),i(40,"Agregar al carrito"),r()()()()),n&2){let e=O();s(2),l("productImages",e.productsResource.value().images),s(3),x(e.productsResource.value().title),s(2),x(e.productsResource.value().description),s(6),C("$",e.productsResource.value().price),s(4),z("text-success",e.productsResource.value().stock>0)("text-error",e.productsResource.value().stock===0),s(),C(" ",e.productsResource.value().stock>0?e.productsResource.value().stock:"Agotado"," "),s(5),f(e.productsResource.value().sizes),s(6),f(e.productsResource.value().tags),s(7),ye("",e.productsResource.value().user.fullName," (",e.productsResource.value().user.email,")"),s(2),C(" Rol: ",e.productsResource.value().user.roles.join(", ")," ")}}function Ge(n,t){n&1&&(o(0,"p"),i(1,"Loading..."),r())}var ne=class n{productService=u(h);productId=u(k).snapshot.params.id;productsResource=M({params:()=>({id:this.productId}),stream:({params:t})=>this.productService.getProduct(t.id)});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-product-page"]],decls:3,vars:1,consts:[[1,"mx-auto","p-2"],[1,"container","mx-auto"],[1,"flex","w-full","flex-col","md:flex-row","gap-6"],[3,"productImages"],[1,"text-3xl","font-bold","mb-4"],[1,"mb-6"],[1,"stats","shadow","w-full","mb-6"],[1,"stat"],[1,"stat-title"],[1,"stat-value","text-primary"],[1,"stat-value"],[1,"mb-4"],[1,"font-semibold"],[1,"flex","flex-wrap","gap-2","mt-2"],[1,"badge","badge-outline"],[1,"badge","badge-secondary"],[1,"divider"],[1,"text-sm","text-gray-500"],[1,"btn","btn-primary","w-full"]],template:function(e,a){e&1&&(o(0,"div",0),le(1,He,41,12,"div",1)(2,Ge,2,0,"p"),r()),e&2&&(s(),ge(a.productsResource.hasValue()?1:2))},dependencies:[te],encapsulation:2})};var oe=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-not-found-page"]],decls:3,vars:0,template:function(e,a){e&1&&(L(0,"p"),i(1,"not-found-page works!"),q(),i(2,`,
`))},encapsulation:2})};var Ve=[{path:"",component:X,children:[{path:"",component:Z},{path:"gender/:gender",component:ee},{path:"product/:id",component:ne},{path:"**",component:oe}]},{path:"**",redirectTo:""}],yn=Ve;export{yn as default,Ve as storeFrontRoutes};
